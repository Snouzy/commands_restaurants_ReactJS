{"version":3,"sources":["helpers.js","components/StorePicker.js","components/Header.js","components/AddFishForm.js","components/EditFishForm.js","components/Inventory.js","components/Order.js","sample-fishes.js","components/Fish.js","base.js","components/App.js","components/NotFound.js","components/Router.js","index.js"],"names":["formatPrice","cents","toLocaleString","style","currency","rando","arr","Math","floor","random","length","getFunName","adjectives","StorePicker","myInput","React","createRef","goToStore","event","preventDefault","storeName","current","value","props","history","push","className","onSubmit","this","type","ref","required","placeholder","defaultValue","Component","Header","tagline","AddFishForm","nameRef","priceRef","statusRef","descRef","imageRef","createFish","fish","name","price","parseFloat","status","desc","image","addFish","console","log","currentTarget","reset","EditFishForm","handleChange","updatedFish","updateFish","index","onChange","onClick","deleteFish","Inventory","Object","keys","map","key","loadSampleFishes","Order","renderOrder","fishes","count","order","isAvailable","classNames","timeout","enter","exit","component","removeFromOrder","orderIds","total","reduce","prevTotal","fish1","fish2","fish3","fish4","fish5","fish6","fish7","fish8","fish9","Fish","details","src","alt","disabled","addToOrder","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","base","Rebase","createClass","database","App","state","setState","sampleFishes","Date","now","localStorageRef","localStorage","getItem","match","params","storeId","JSON","parse","syncState","context","setItem","stringify","removeBinding","NotFound","Router","BrowserRouter","Switch","Route","exact","path","render","document","querySelector"],"mappings":"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","file":"static/js/main.f4574c86.chunk.js","sourcesContent":["export function formatPrice(cents) {\r\n   return (cents / 100).toLocaleString('fr-FR', {\r\n      style: 'currency',\r\n      currency: 'EUR'\r\n   });\r\n}\r\n\r\nexport function rando(arr) {\r\n   return arr[Math.floor(Math.random() * arr.length)];\r\n}\r\n\r\nexport function slugify(text) {\r\n   return text\r\n      .toString()\r\n      .toLowerCase()\r\n      .replace(/\\s+/g, '-')\r\n      .replace(/[^\\w-]+/g, '')\r\n      .replace(/--+/g, '-')\r\n      .replace(/^-+/, '')\r\n      .replace(/-+$/, '');\r\n}\r\n\r\nexport function getFunName() {\r\n   const adjectives = [\r\n      'adorable',\r\n      'magnifique',\r\n      'propre',\r\n      'terne',\r\n      'elegant',\r\n      'fantaisie',\r\n      'glamour',\r\n      'beau',\r\n      'long',\r\n      'superbe',\r\n      'demode',\r\n      'plaine',\r\n      'pittoresque',\r\n      'pétillante',\r\n      'moche',\r\n      'disgracieux',\r\n      'colerique',\r\n      'perplexe',\r\n      'maladroit',\r\n      'defaitiste',\r\n      'genant',\r\n      'feroce',\r\n      'grincheux',\r\n      'sans espoir',\r\n      'jaloux',\r\n      'fainenant',\r\n      'mysterieux',\r\n      'nerveux',\r\n      'odieux',\r\n      'paniqueur',\r\n      'repoussant',\r\n      'peureux',\r\n      'irreflechi',\r\n      'crispe',\r\n      'inquiet'\r\n   ];\r\n\r\n   const nouns = [\r\n      'femme',\r\n      'homme',\r\n      'enfants',\r\n      'dent',\r\n      'pied',\r\n      'gens',\r\n      'feuilles',\r\n      'souris',\r\n      'oies',\r\n      'moitiés',\r\n      'couteaux',\r\n      'epouses',\r\n      'vies',\r\n      'elfes',\r\n      'pains',\r\n      'patates',\r\n      'tomates',\r\n      'cactus',\r\n      'foyers',\r\n      'champignons',\r\n      'noyaux',\r\n      'programmes',\r\n      'analyses',\r\n      'diagnostiques',\r\n      'oasis',\r\n      'theses',\r\n      'crises',\r\n      'phenomenes',\r\n      'criteres',\r\n      'donnees'\r\n   ];\r\n\r\n   return `${rando(adjectives)}-${rando(adjectives)}-${rando(nouns)}`;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getFunName } from '../helpers';\r\n\r\nclass StorePicker extends Component {\r\n   myInput = React.createRef();\r\n\r\n   goToStore = event => {\r\n      event.preventDefault();\r\n      const storeName = this.myInput.current.value;\r\n      this.props.history.push(`/store/${storeName}`);\r\n   };\r\n\r\n   render() {\r\n      return (\r\n         <form className=\"store-selector\" onSubmit={this.goToStore}>\r\n            <h2>Nom du magasin</h2>\r\n            <input\r\n               type=\"text\"\r\n               ref={this.myInput}\r\n               required\r\n               placeholder=\"Store Name\"\r\n               defaultValue={getFunName()}\r\n            />\r\n            <button type=\"submit\">Visit Store ➡</button>\r\n         </form>\r\n      );\r\n   }\r\n}\r\n\r\nexport default StorePicker;\r\n","import React from 'react';\r\n\r\nconst Header = props => (\r\n   <header className=\"top\">\r\n      <h1>\r\n         Prise\r\n         <span className=\"ofThe\">\r\n            <span className=\"of\">de </span>\r\n            <span className=\"the\">la</span>\r\n         </span>\r\n         matinée\r\n      </h1>\r\n      <h3 className=\"tagline\">\r\n         <span>{props.tagline}</span>\r\n      </h3>\r\n   </header>\r\n);\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\n\r\nclass AddFishForm extends Component {\r\n   nameRef = React.createRef();\r\n   priceRef = React.createRef();\r\n   statusRef = React.createRef();\r\n   descRef = React.createRef();\r\n   imageRef = React.createRef();\r\n\r\n   createFish = event => {\r\n      event.preventDefault();\r\n      const fish = {\r\n         name: this.nameRef.current.value,\r\n         price: parseFloat(this.priceRef.current.value),\r\n         status: this.statusRef.current.value,\r\n         desc: this.descRef.current.value,\r\n         image: this.imageRef.current.value\r\n      };\r\n      this.props.addFish(fish);\r\n      //refresh the form\r\n      console.log(event.currentTarget.reset());\r\n   };\r\n\r\n   render() {\r\n      return (\r\n         <form className=\"fish-edit\" onSubmit={this.createFish}>\r\n            <input\r\n               name=\"name\"\r\n               ref={this.nameRef}\r\n               type=\"text\"\r\n               placeholder=\"Name\"\r\n            />\r\n            <input\r\n               name=\"price\"\r\n               ref={this.priceRef}\r\n               type=\"text\"\r\n               placeholder=\"Price\"\r\n            />\r\n            <select name=\"status\" ref={this.statusRef}>\r\n               <option value=\"available\">En stock!</option>\r\n               <option value=\"unavailable\">Épuisé !</option>\r\n            </select>\r\n            <textarea name=\"desc\" ref={this.descRef} placeholder=\"Desc\" />\r\n            <input\r\n               name=\"image\"\r\n               ref={this.imageRef}\r\n               type=\"text\"\r\n               placeholder=\"Image\"\r\n            />\r\n            <button type=\"submit\">+ Add Fish</button>\r\n         </form>\r\n      );\r\n   }\r\n}\r\n\r\nexport default AddFishForm;\r\n","import React from 'react';\r\nclass EditFishForm extends React.Component {\r\n   handleChange = event => {\r\n      console.log(event);\r\n      const updatedFish = {\r\n         ...this.props.fish,\r\n         [event.currentTarget.name]: event.currentTarget.value\r\n      };\r\n      this.props.updateFish(this.props.index, updatedFish);\r\n   };\r\n   render() {\r\n      return (\r\n         <div className=\"fish-edit\">\r\n            <input\r\n               type=\"text\"\r\n               name=\"name\"\r\n               onChange={this.handleChange}\r\n               value={this.props.fish.name}\r\n            />\r\n            <input\r\n               type=\"text\"\r\n               name=\"price\"\r\n               onChange={this.handleChange}\r\n               value={this.props.fish.price}\r\n            />\r\n            <select\r\n               name=\"status\"\r\n               onChange={this.handleChange}\r\n               value={this.props.fish.status}\r\n            >\r\n               <option value=\"available\">En stock</option>\r\n               <option value=\"unavailable\">En rupture</option>\r\n            </select>\r\n            <textarea\r\n               name=\"desc\"\r\n               onChange={this.handleChange}\r\n               value={this.props.fish.desc}\r\n            />\r\n            <input\r\n               type=\"text\"\r\n               name=\"image\"\r\n               onChange={this.handleChange}\r\n               value={this.props.fish.image}\r\n            />\r\n            <button onClick={() => this.props.deleteFish(this.props.index)}>\r\n               Supprimer le poisson\r\n            </button>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default EditFishForm;\r\n","import React, { Component } from 'react';\r\nimport AddFishForm from './AddFishForm';\r\nimport EditFishForm from './EditFishForm';\r\n\r\nclass Inventory extends Component {\r\n   render() {\r\n      return (\r\n         <div className=\"inventory\">\r\n            <h2>Inventaire</h2>\r\n            {Object.keys(this.props.fish).map(key => (\r\n               <EditFishForm\r\n                  key={key}\r\n                  index={key}\r\n                  fish={this.props.fish[key]}\r\n                  updateFish={this.props.updateFish}\r\n                  deleteFish={this.props.deleteFish}\r\n               />\r\n            ))}\r\n            <AddFishForm addFish={this.props.addFish} />\r\n            <button onClick={this.props.loadSampleFishes}>\r\n               Charger un exemple de poissons\r\n            </button>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Inventory;\r\n","import React, { Component } from 'react';\r\nimport { formatPrice } from '../helpers';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nclass Order extends Component {\r\n   renderOrder = key => {\r\n      const fish = this.props.fishes[key];\r\n      const count = this.props.order[key];\r\n      const isAvailable = fish && fish.status === 'available';\r\n      //make sure the fish is loaded before continue\r\n      //and not showing \"sorry, fish is not longer available\"\r\n      if (!fish) return null;\r\n      if (!isAvailable) {\r\n         return (\r\n            <li key={key}>\r\n               Désolé, {fish ? fish.name : 'fish'} n'est plus disponible !\r\n            </li>\r\n         );\r\n      }\r\n      return (\r\n         <CSSTransition\r\n            classNames=\"order\"\r\n            key={key}\r\n            timeout={{ enter: 1000, exit: 1000 }}\r\n         >\r\n            <li key={key}>\r\n               <span>\r\n                  <TransitionGroup component=\"span\" className=\"count\">\r\n                     <CSSTransition\r\n                        classNames=\"count\"\r\n                        key={count}\r\n                        timeout={{ enter: 500, exit: 500 }}\r\n                     >\r\n                        <span>{count}</span>\r\n                     </CSSTransition>\r\n                  </TransitionGroup>\r\n                  {count === 1 ? 'pc' : 'pcs'} {fish.name}{' '}\r\n                  {formatPrice(count * fish.price)}\r\n                  <button onClick={() => this.props.removeFromOrder(key)}>\r\n                     X\r\n                  </button>\r\n               </span>\r\n            </li>\r\n         </CSSTransition>\r\n      );\r\n   };\r\n\r\n   render() {\r\n      const orderIds = Object.keys(this.props.order);\r\n      const total = orderIds.reduce((prevTotal, key) => {\r\n         const fish = this.props.fishes[key];\r\n         const count = this.props.order[key];\r\n         const isAvailable = fish && fish.status === 'available';\r\n\r\n         if (isAvailable) {\r\n            return prevTotal + count * fish.price;\r\n         }\r\n         return prevTotal;\r\n      }, 0);\r\n\r\n      return (\r\n         <div className=\"order-wrap\">\r\n            <h2>Commande</h2>\r\n            <TransitionGroup component=\"ul\" className=\"order\">\r\n               {orderIds.map(this.renderOrder)}\r\n            </TransitionGroup>\r\n            <div className=\"total\">\r\n               <strong>{formatPrice(total)}</strong>\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Order;\r\n","const fishes = {\r\n   fish1: {\r\n      name: 'Fletan du Pacifique',\r\n      image: '/images/hali.jpg',\r\n      desc:\r\n         \"Le poisson blanc préféré de tous. Nous le couperons à la taille dont vous avez besoin et l'expédierons.\",\r\n      price: 1724,\r\n      status: 'available'\r\n   },\r\n\r\n   fish2: {\r\n      name: 'Homard',\r\n      image: '/images/lobster.jpg',\r\n      desc:\r\n         'Ces beautés tendres et appétissantes sont un succès fantastique à tout dîner.',\r\n      price: 3200,\r\n      status: 'available'\r\n   },\r\n\r\n   fish3: {\r\n      name: 'Petoncles de mer',\r\n      image: '/images/scallops.jpg',\r\n      desc:\r\n         \"Gros, doux et tendre. Véritables pétoncles secs des eaux glacées de l'Alaska.\",\r\n      price: 1684,\r\n      status: 'unavailable'\r\n   },\r\n\r\n   fish4: {\r\n      name: 'Mahi Mahi',\r\n      image: '/images/mahi.jpg',\r\n      desc:\r\n         'Chair maigre avec un profil de saveur douce et sucrée, une texture modérément ferme et de gros flocons humides. ',\r\n      price: 1129,\r\n      status: 'available'\r\n   },\r\n\r\n   fish5: {\r\n      name: 'Crabe royal',\r\n      image: '/images/crab.jpg',\r\n      desc:\r\n         \"Ouvrez-les et dégustez-les nature ou avec l'une de nos sauces à cocktail\",\r\n      price: 4234,\r\n      status: 'available'\r\n   },\r\n\r\n   fish6: {\r\n      name: 'Saumon atlantique',\r\n      image: '/images/salmon.jpg',\r\n      desc:\r\n         'Ce saumon feuilleté et huileux est vraiment le roi de la mer. Faites-le cuire, grillez-le... toutes les combinaisons sont bonnes !',\r\n      price: 1453,\r\n      status: 'available'\r\n   },\r\n\r\n   fish7: {\r\n      name: 'Huîtres',\r\n      image: '/images/oysters.jpg',\r\n      desc:\r\n         'Une huître charnue douce avec une saveur sucrée et salée et une finition propre.',\r\n      price: 2543,\r\n      status: 'available'\r\n   },\r\n\r\n   fish8: {\r\n      name: 'Moules',\r\n      image: '/images/mussels.jpg',\r\n      desc: 'Les meilleures moules du Pacifique au goût complexe et savoureux.',\r\n      price: 425,\r\n      status: 'available'\r\n   },\r\n\r\n   fish9: {\r\n      name: 'Crevettes geantes',\r\n      image: '/images/prawns.jpg',\r\n      desc:\r\n         'Ces enormes morceaux sucrés sont parfaits pour les mangeurs sans fin !',\r\n      price: 2250,\r\n      status: 'available'\r\n   }\r\n};\r\n\r\nexport default fishes;\r\n","import React, { Component } from 'react';\r\nimport { formatPrice } from '../helpers';\r\nclass Fish extends Component {\r\n   render() {\r\n      const { image, name, price, desc, status } = this.props.details;\r\n      const isAvailable = status === 'available';\r\n\r\n      return (\r\n         <li className=\"menu-fish\">\r\n            <img src={image} alt={this.props.details.name} />\r\n            <h3 className=\"fish-name\">\r\n               {name}\r\n               <span className={formatPrice(price)}>{price}</span>\r\n            </h3>\r\n            <p>{desc}</p>\r\n            <button\r\n               disabled={!isAvailable}\r\n               onClick={() => this.props.addToOrder(this.props.index)}\r\n            >\r\n               {isAvailable ? 'Ajouter au panier' : 'Épuisé'}\r\n            </button>\r\n         </li>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Fish;\r\n","import Rebase from 're-base';\r\nimport firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n   apiKey: 'AIzaSyC4h9xSHrmKc-KU9cmpSO_cNN_MP5pTK0A',\r\n   authDomain: 'restaurants-commands-reactjs.firebaseapp.com',\r\n   databaseURL: 'https://restaurants-commands-reactjs.firebaseio.com'\r\n});\r\n\r\nconst base = Rebase.createClass(firebaseApp.database());\r\n\r\nexport { firebaseApp };\r\n\r\nexport default base;\r\n","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport Inventory from './Inventory';\r\nimport Order from './Order';\r\nimport sampleFishes from '../sample-fishes';\r\nimport Fish from './Fish';\r\nimport base from '../base';\r\nimport fishes from '../sample-fishes';\r\nclass App extends Component {\r\n   state = {\r\n      fishes: {},\r\n      order: {}\r\n   };\r\n\r\n   componentDidMount() {\r\n      const localStorageRef = localStorage.getItem(\r\n         this.props.match.params.storeId\r\n      );\r\n      if (localStorageRef) {\r\n         this.setState({ order: JSON.parse(localStorageRef) });\r\n      }\r\n      this.ref = base.syncState(`${this.props.match.params.storeId}/fishes`, {\r\n         context: this,\r\n         state: 'fishes'\r\n      });\r\n   }\r\n\r\n   componentDidUpdate() {\r\n      localStorage.setItem(\r\n         this.props.match.params.storeId,\r\n         JSON.stringify(this.state.order)\r\n      );\r\n   }\r\n\r\n   componentWillUnmount() {\r\n      base.removeBinding(this.ref);\r\n   }\r\n\r\n   deleteFish = key => {\r\n      const fishes = { ...this.state.fishes };\r\n      fishes[key] = null;\r\n      this.setState({ fishes });\r\n   };\r\n\r\n   loadSampleFishes = () => {\r\n      this.setState({ fishes: sampleFishes });\r\n   };\r\n\r\n   addFish = fish => {\r\n      console.log('Adding a fish');\r\n      const fishes = { ...this.state.fishes };\r\n      fishes[`fish${Date.now()}`] = fish;\r\n\r\n      this.setState({ fishes });\r\n   };\r\n\r\n   updateFish = (key, updatedFish) => {\r\n      const fishes = { ...this.state.fishes };\r\n      fishes[key] = updatedFish;\r\n      this.setState({ fishes });\r\n   };\r\n   addToOrder = key => {\r\n      const order = { ...this.state.order };\r\n      order[key] = order[key] + 1 || 1;\r\n      this.setState({ order });\r\n   };\r\n\r\n   removeFromOrder = key => {\r\n      const order = { ...this.state.order };\r\n      delete order[key];\r\n      this.setState({ order });\r\n   };\r\n\r\n   render() {\r\n      return (\r\n         <div className=\"catch-of-the-day\">\r\n            <div className=\"menu\">\r\n               <Header tagline=\"Commerce de poissons frais\" />\r\n               <ul className=\"fishes\">\r\n                  {Object.keys(this.state.fishes).map(key => (\r\n                     <Fish\r\n                        key={key}\r\n                        index={key}\r\n                        details={this.state.fishes[key]}\r\n                        addToOrder={this.addToOrder}\r\n                     />\r\n                  ))}\r\n               </ul>\r\n            </div>\r\n            <Order\r\n               fishes={this.state.fishes}\r\n               order={this.state.order}\r\n               removeFromOrder={this.removeFromOrder}\r\n            />\r\n            <Inventory\r\n               addFish={this.addFish}\r\n               updateFish={this.updateFish}\r\n               deleteFish={this.deleteFish}\r\n               loadSampleFishes={this.loadSampleFishes}\r\n               fish={this.state.fishes}\r\n            />\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n\r\nconst NotFound = () => <h2>NOT FOUND</h2>;\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport StorePicker from './StorePicker';\r\nimport App from './App';\r\nimport NotFound from './NotFound';\r\n\r\nconst Router = () => (\r\n   <BrowserRouter>\r\n      <Switch>\r\n         {/* A l'arrivée \" / \" */}\r\n         <Route exact path=\"/\" component={StorePicker} />\r\n         {/*  */}\r\n         <Route path=\"/store/:storeId\" component={App} />\r\n         <Route component={NotFound} />\r\n      </Switch>\r\n   </BrowserRouter>\r\n);\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport Router from './components/Router';\r\nimport './css/style.css';\r\n\r\nrender(<Router />, document.querySelector('#main'));\r\n"],"sourceRoot":""}